library(Rlabkey)
labkey.data <- labkey.selectRows(
baseUrl="https://www.itntrialshare.org",
folderPath="/Studies/ITN034AIPUBLIC/Study Data",
schemaName="study",
queryName="ADEFF3",
viewName="",
colSelect="ParticipantId,ParticipantVisit/Visit,STUDYID,TRT,TRTC,TRTNUM,INFCDT,FUTGENE,FUTOTHR,CONTACT,RANDT,RAND,STRATUM,ITT,SAFETY,PP1,PP2,SAMP,FDDT,LDDT,COMP24,COMP28,COMP52,COMP104,DISCSDT,DISCSWK,DISCSRS,DISCTDT,COMPLTTR,COMPLTST,ONSTUDY,PRIST28,AFTST28,OFFSTUDY,STSTATL,ONTRT,PRITR28,AFTTR28,OFFTRT,TRSTATL,TRTCMPDT,TERMNEW,DISCNEW,AGE,AGEGRP,SEXC,RACE,RACEL,RACET,ETHNIC,WK12DT,WK24DT,WK28DT,WK52DT,WK104DT,STDUR24,STDUR52,STDUR52C,STDUR104,WEIGHTB,WEIGHTBC,PREDB,RESPOND,KBIOPCL,PHASE,VISITNUM,VISDT,VISDY,COLLDT,COLLDY,LASMDT,LASMWK,SPOTCRE,SPOTCREL,SPOTPRO,SPOTPROL,RATIOS,RATIOSC,UPROT,UPROTL,UCREAT,UCREATL,UPROT_SC,UPROTP,RATIO24,RATIO24C,RATIO,RATIOC,RATIOT,RATIOB,RATIOBC,RATIOP,RATIO05,RATIO50,RATIOLP,RATIOBH,RATIOPH,RATIOBS,RATIOPS,BUN,ALB,CREA,CREAULN,CREA_MAX,CREAPC,CREA12,CREA_CR,CREA_25,CREA_HI,LASTPRED,PRED,RESPONSE,PRRESP,PROTU_CR,PROTU_75,PROTUWOR,SYSTEMA,SYSTEMF,RENAL,RESP24,REN24_C,REN52_C,RENALL_C,NON24_C,NON52_C,NONALL_C,EGFRAGE,EGFR,EGFRB,URBCCAT,DATADT",
colFilter=NULL,
containerFilter=NULL,
colNameOpt="rname"
)
https://www.labkey.org/Documentation/22.11/wiki-page.view?name=rAPI&referrer=script
library(Rlabkey)
labkey.data <- labkey.selectRows(
baseUrl="https://www.itntrialshare.org",
folderPath="/Studies/ITN034AIPUBLIC/Study Data",
schemaName="study",
queryName="ADEFF3",
viewName="",
colSelect="ParticipantId,ParticipantVisit/Visit,STUDYID,TRT,TRTC,TRTNUM,INFCDT,FUTGENE,FUTOTHR,CONTACT,RANDT,RAND,STRATUM,ITT,SAFETY,PP1,PP2,SAMP,FDDT,LDDT,COMP24,COMP28,COMP52,COMP104,DISCSDT,DISCSWK,DISCSRS,DISCTDT,COMPLTTR,COMPLTST,ONSTUDY,PRIST28,AFTST28,OFFSTUDY,STSTATL,ONTRT,PRITR28,AFTTR28,OFFTRT,TRSTATL,TRTCMPDT,TERMNEW,DISCNEW,AGE,AGEGRP,SEXC,RACE,RACEL,RACET,ETHNIC,WK12DT,WK24DT,WK28DT,WK52DT,WK104DT,STDUR24,STDUR52,STDUR52C,STDUR104,WEIGHTB,WEIGHTBC,PREDB,RESPOND,KBIOPCL,PHASE,VISITNUM,VISDT,VISDY,COLLDT,COLLDY,LASMDT,LASMWK,SPOTCRE,SPOTCREL,SPOTPRO,SPOTPROL,RATIOS,RATIOSC,UPROT,UPROTL,UCREAT,UCREATL,UPROT_SC,UPROTP,RATIO24,RATIO24C,RATIO,RATIOC,RATIOT,RATIOB,RATIOBC,RATIOP,RATIO05,RATIO50,RATIOLP,RATIOBH,RATIOPH,RATIOBS,RATIOPS,BUN,ALB,CREA,CREAULN,CREA_MAX,CREAPC,CREA12,CREA_CR,CREA_25,CREA_HI,LASTPRED,PRED,RESPONSE,PRRESP,PROTU_CR,PROTU_75,PROTUWOR,SYSTEMA,SYSTEMF,RENAL,RESP24,REN24_C,REN52_C,RENALL_C,NON24_C,NON52_C,NONALL_C,EGFRAGE,EGFR,EGFRB,URBCCAT,DATADT",
colFilter=NULL,
containerFilter=NULL,
colNameOpt="rname"
)
labkey.data <- labkey.selectRows(
baseUrl="https://www.itntrialshare.org",
folderPath="/Studies/ITN034AIPUBLIC/Study Data",
schemaName="study",
queryName="ADEFF3",
viewName="",
colSelect="ParticipantId,ParticipantVisit/Visit,STUDYID,TRT,TRTC,TRTNUM,INFCDT,FUTGENE,FUTOTHR,CONTACT,RANDT,RAND,STRATUM,ITT,SAFETY,PP1,PP2,SAMP,FDDT,LDDT,COMP24,COMP28,COMP52,COMP104,DISCSDT,DISCSWK,DISCSRS,DISCTDT,COMPLTTR,COMPLTST,ONSTUDY,PRIST28,AFTST28,OFFSTUDY,STSTATL,ONTRT,PRITR28,AFTTR28,OFFTRT,TRSTATL,TRTCMPDT,TERMNEW,DISCNEW,AGE,AGEGRP,SEXC,RACE,RACEL,RACET,ETHNIC,WK12DT,WK24DT,WK28DT,WK52DT,WK104DT,STDUR24,STDUR52,STDUR52C,STDUR104,WEIGHTB,WEIGHTBC,PREDB,RESPOND,KBIOPCL,PHASE,VISITNUM,VISDT,VISDY,COLLDT,COLLDY,LASMDT,LASMWK,SPOTCRE,SPOTCREL,SPOTPRO,SPOTPROL,RATIOS,RATIOSC,UPROT,UPROTL,UCREAT,UCREATL,UPROT_SC,UPROTP,RATIO24,RATIO24C,RATIO,RATIOC,RATIOT,RATIOB,RATIOBC,RATIOP,RATIO05,RATIO50,RATIOLP,RATIOBH,RATIOPH,RATIOBS,RATIOPS,BUN,ALB,CREA,CREAULN,CREA_MAX,CREAPC,CREA12,CREA_CR,CREA_25,CREA_HI,LASTPRED,PRED,RESPONSE,PRRESP,PROTU_CR,PROTU_75,PROTUWOR,SYSTEMA,SYSTEMF,RENAL,RESP24,REN24_C,REN52_C,RENALL_C,NON24_C,NON52_C,NONALL_C,EGFRAGE,EGFR,EGFRB,URBCCAT,DATADT",
colFilter=NULL,
containerFilter=NULL,
colNameOpt="rname"
)
?labkey.selectRows
?labkey.whoAmI
labkey.whoAmI
labkey.whoAmI()
Rlabkey::labkey.setCurlOptions(NETRC_FILE = '.netrc')
labkey.data <- labkey.selectRows(
baseUrl="https://www.itntrialshare.org",
folderPath="/Studies/ITN034AIPUBLIC/Study Data",
schemaName="study",
queryName="ADEFF3",
viewName="",
colSelect="ParticipantId,ParticipantVisit/Visit,STUDYID,TRT,TRTC,TRTNUM,INFCDT,FUTGENE,FUTOTHR,CONTACT,RANDT,RAND,STRATUM,ITT,SAFETY,PP1,PP2,SAMP,FDDT,LDDT,COMP24,COMP28,COMP52,COMP104,DISCSDT,DISCSWK,DISCSRS,DISCTDT,COMPLTTR,COMPLTST,ONSTUDY,PRIST28,AFTST28,OFFSTUDY,STSTATL,ONTRT,PRITR28,AFTTR28,OFFTRT,TRSTATL,TRTCMPDT,TERMNEW,DISCNEW,AGE,AGEGRP,SEXC,RACE,RACEL,RACET,ETHNIC,WK12DT,WK24DT,WK28DT,WK52DT,WK104DT,STDUR24,STDUR52,STDUR52C,STDUR104,WEIGHTB,WEIGHTBC,PREDB,RESPOND,KBIOPCL,PHASE,VISITNUM,VISDT,VISDY,COLLDT,COLLDY,LASMDT,LASMWK,SPOTCRE,SPOTCREL,SPOTPRO,SPOTPROL,RATIOS,RATIOSC,UPROT,UPROTL,UCREAT,UCREATL,UPROT_SC,UPROTP,RATIO24,RATIO24C,RATIO,RATIOC,RATIOT,RATIOB,RATIOBC,RATIOP,RATIO05,RATIO50,RATIOLP,RATIOBH,RATIOPH,RATIOBS,RATIOPS,BUN,ALB,CREA,CREAULN,CREA_MAX,CREAPC,CREA12,CREA_CR,CREA_25,CREA_HI,LASTPRED,PRED,RESPONSE,PRRESP,PROTU_CR,PROTU_75,PROTUWOR,SYSTEMA,SYSTEMF,RENAL,RESP24,REN24_C,REN52_C,RENALL_C,NON24_C,NON52_C,NONALL_C,EGFRAGE,EGFR,EGFRB,URBCCAT,DATADT",
colFilter=NULL,
containerFilter=NULL,
colNameOpt="rname"
)
labkey.whoAmI()
efficacy_one <- read_csv("data/raw_from_itn/ADEFF3_2024-05-22_10-50-24.csv")
library(tidyverse)
efficacy_one <- read_csv("data/raw_from_itn/ADEFF3_2024-05-22_10-50-24.csv")
efficacy_two <- read_csv("data/raw_from_itn/ADVISIT1_2024-05-22_10-51-40.csv")
View(efficacy_one)
efficacy_one |> colnames()
efficacy_two |> colnames()
View(efficacy_two)
View(efficacy_two)
lab_results <- read_csv("data/raw_from_itn/ADLB1_2024-05-22_10-52-48.csv")
View(lab_results)
platelet_counts <- lab_results |>
filter(`Laboratory Test Name` == "Platelet Count")
naniar::miss_var_summary(platelet_counts)
naniar::miss_var_summary(platelet_counts) |> arrange(desc())
naniar::miss_var_summary(platelet_counts) |> arrange(desc(pct_miss))
naniar::miss_var_summary(platelet_counts) |> arrange(pct_miss, desc = F)
naniar::miss_var_summary(platelet_counts) |> arrange(pct_miss, desc = F) |> print(n = 30)
naniar::miss_var_summary(platelet_counts) |> arrange(pct_miss, desc = F) |> print(n = 50)
naniar::miss_var_summary(platelet_counts) |> arrange(pct_miss, desc = F) |> print(n = 75)
neutro_lymph_ratio <- lab_results |>
filter(`Laboratory Test Name` == "Neutrophils" | `Laboratory Test Name` == "Lymphocytes")
